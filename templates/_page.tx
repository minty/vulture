<html>
  <head>
    <style>
      body {
        font-family: sans-serif;
      }
      .task h1 a {
        text-decoration: none;
        color: 000;
      }
      .task h1 a:hover {
        text-decoration: underline;
      }
      #log {
        height: 20em;
        overflow: auto;
      }
      #log p               { color: #ccc; font-size: 80% }
      #log p:nth-child(1)  { color: #000 }
      #log p:nth-child(2)  { color: #333 }
      #log p:nth-child(3)  { color: #666 }
      #log p:nth-child(4)  { color: #999 }
      .clientlist {
        font-size: 85%;
        line-height: 1.5em;
        padding: 0;
        list-style: none;
      }
      .clientlist > li {
         border-bottom: 1px dashed #ccc;
         padding-bottom: 0.75em;
      }
      .clientlist > li:last-child {
        border: none;
      }
      .iplist li a,
      .agentlist li a,
      .clientlist li a {
        text-decoration: none;
        color: #000;
      }
      .iplist li a:hover,
      .agentlist li a:hover,
      .clientlist ul li a:hover,
      .clientlist li.active .eject:hover {
        cursor: pointer;
        text-decoration: underline;
      }
      .clientlist li.left {
        text-decoration: line-through;
      }
      .clientlist li.left,
      .clientlist li.left a {
        color: #ccc;
      }
    </style>
    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript">
      $(function() {
        $('.clientlist li.active .eject').on('click', function(e) {
        var o = $(this).parents('li.active');
        console.log(o.data('id'));
        console.log(o.data('guid'));
        console.log(o.data('sessionid'));
        console.log(o.data('agent'));
        $.ajax('/api/client/eject/' + o.data('id'), {
            'success': function(data) {
                console.log(data);
                if (typeof data.left != 'undefined') {
                    o.removeClass('active').addClass('left');
                }
            },
            'error': function(xhr, status) {
                console.log('error ejecting client ' + o.data('id') + ' ' + status);
            }
        });
      });
    });
    </script>
  </head>
  <body class="[% body_class || 'empty' %]">[% content %]</body>
</html>
